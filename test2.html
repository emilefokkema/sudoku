<html>
	<body>
		<div style="height:200px" data-contour="parent">
			<div>
				<span data-contour="child">Whatever</span>
			</div>
			
		</div>
	</body>
	<script src="structureHelpers.js"></script>
	<script src="contourMaker.js"></script>
	<script>
	(function(str){
		var xPath = ".//*[@data-contour='parent' or @data-contour='child']";
		var toArray = function(iterator){
			var next, result = [];
			while(next = iterator.iterateNext()){
				result.push(next);
			}
			return result;
		};
		var contourChildrenOf = function(node){
			return toArray( document.evaluate(xPath, node, null, XPathResult.ANY_TYPE, null) );
		};
		var all = contourChildrenOf(document);
		var isParentOf = function(n1, n2){
			var children = contourChildrenOf(n1);
			return children.indexOf(n2) != -1;
		};
		var trees = str.makeTrees(all, isParentOf);
		console.log(trees);
	})(window.structureHelpers);
	</script>
</html>