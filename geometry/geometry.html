<html>
<head>
<LINK href="geometry.css" rel="stylesheet" type="text/css" />
</head>
<body style="margin:0px;padding:0px">
<script src="../makeModule.js"></script>
<script src="../makeNode.js"></script>
<script src="../structureHelpers.js"></script>
<script src="planeMath.js"></script>
<script src="intersectWithBox.js"></script>
<script src="shapeLogic.js"></script>
<script src="intersectionSet.js"></script>
<script src="canvas.js"></script>
<script src="log.js"></script>
<script src="structure.js"></script>
<script src="action.js"></script>
<script src="hash.js"></script>
<script src="buttons.js"></script>
<script>
(function(document, w,h){
	var floatPattern = "-?\\d+(?:\\.\\d+)?(?:e-?\\d+)?";
	Array.prototype.lastMin = function(amount){
		var result, m, min = Infinity;
		for(var i = 0; i<this.length;i++){
			m = amount(this[i]);
			if(m <= min){
				min = m;
				result = this[i];
			}
		}
		return result;
	};
	var throttle = function(f, interval){
		var going = false;
		return function(){
			if(!going){
				var args = arguments;
				going = true;
				setTimeout(function(){
					f.apply(null, args);
					going = false;
				}, interval);
			}
		};
	};
	
	
	var copySet = structureHelpers.copySet;
	var distinctArray = function(arr){
		var arr2 = arr.slice();
		var push = function(o){
			if(arr.indexOf(o) == -1){
				arr.push(o);
			}
		};
		arr.splice(0,arr.length);
		arr2.map(function(o){push(o);});
		return {
			arr:arr,
			push:push
		};
	};
	var shapeFilter = {
		ALL: 1,
		POINT: 2,
		NONE:3,
		LINE:4,
		CIRCLE:5,
		LOCUS: 6,
		SEGMENT: 7,
		LINE_ISH: 8,
		NOT_LOCUS: 9
	};
	var obj = {sender:structureHelpers.sender,shapeFilter:shapeFilter,copySet:copySet, w:w, h:h, throttle:throttle,floatPattern:floatPattern,
		distinctArray:distinctArray};
	window.initGeometry(obj);
	
	

	

	var canvas = obj.canvas;

	
	

	

	

	var action = obj.action;

	var hash = obj.hash;

	canvas.onmouseup(function(){console.log("mouseup");hash.write();});
	hash.read();

	

	

	action.doNothing();

	

})(document, document.body.offsetWidth, document.body.offsetHeight);
</script>
</body>
</html>